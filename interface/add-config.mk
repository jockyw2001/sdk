CONFIG_MK := $(firstword $(dir $(word $(shell echo $$(($(words $(MAKEFILE_LIST))-2))), $(MAKEFILE_LIST))))
MODULE_NAME:=$(patsubst src/%/,%,$(filter-out ../mhal%, $(CONFIG_MK)))
INTERFACE_MODULES += $(MODULE_NAME)
MHAL_MODULES += $(notdir $(patsubst %/,%,$(filter-out src%, $(CONFIG_MK))))
$(MODULE_NAME)_DEP_MODULE := $(call fetch-value,DEP_MODULE DEP_MODULES)
$(MODULE_NAME)_DEP_EXT_INC := $(call fetch-value,DEP_EXT_INC DEP_EXT_INCS)
$(MODULE_NAME)_DEP_HAL_INC := $(call fetch-value,DEP_HAL_INC DEP_HAL_INCS DEP_HAL DEP_HALS)
$(MODULE_NAME)_API_FILE := $(call fetch-value,API_FILE)
$(MODULE_NAME)_UINTERNAL_FILES := $(call fetch-value,UINTERNAL_FILES)
$(MODULE_NAME)_KINTERNAL_FILES := $(call fetch-value,KINTERNAL_FILES)
$(MODULE_NAME)_UAPI_DISABLE := $(call fetch-value,UAPI_DISABLE)
$(MODULE_NAME)_KAPI_DISABLE := $(call fetch-value,KAPI_DISABLE)
$(MODULE_NAME)_WRAPPER_FILE := $(call fetch-value,WRAPPER_FILE)
$(MODULE_NAME)_IMPL_FILE := $(call fetch-value,IMPL_FILE IMPL_FILES)
$(MODULE_NAME)_USER_INC:= $(call fetch-value,USER_INC USER_INCS)
